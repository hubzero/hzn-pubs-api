// Compiled by ClojureScript 1.10.520 {}
goog.provide('hubzero_pubs.comps.authors');
goog.require('cljs.core');
goog.require('hubzero_pubs.utils');
goog.require('hubzero_pubs.comps.ui');
goog.require('hubzero_pubs.comps.panels');
hubzero_pubs.comps.authors.user_click = (function hubzero_pubs$comps$authors$user_click(s,id,key,e){
cljs.core.swap_BANG_.call(null,s,cljs.core.update_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),key,id], null),cljs.core.not);

if(cljs.core.truth_(cljs.core.some.call(null,cljs.core.PersistentHashSet.createAsIfByAssoc([id]),cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key], null))))){
return cljs.core.swap_BANG_.call(null,s,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key], null),cljs.core.remove.call(null,cljs.core.PersistentHashSet.createAsIfByAssoc([id]),cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key], null))));
} else {
return cljs.core.swap_BANG_.call(null,s,cljs.core.update_in,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key], null),cljs.core.conj,id);
}
});
hubzero_pubs.comps.authors.user = (function hubzero_pubs$comps$authors$user(s,key,u){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"userid","userid",1974246085).cljs$core$IFn$_invoke$arity$1(u),new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (p1__32554_SHARP_){
return hubzero_pubs.comps.authors.user_click.call(null,s,new cljs.core.Keyword(null,"userid","userid",1974246085).cljs$core$IFn$_invoke$arity$1(u),key,p1__32554_SHARP_);
})], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"inner","inner",-1383171215)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"selected-indicator","selected-indicator",1085564017),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),key,new cljs.core.Keyword(null,"userid","userid",1974246085).cljs$core$IFn$_invoke$arity$1(u)], null)))?new cljs.core.Keyword(null,"selected","selected",574897764):null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"icon","icon",1679606541)], null),hubzero_pubs.comps.ui.icon.call(null,s,"#icon-checkmark"),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"name","name",1843675177)], null),"Selected"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"icon","icon",1679606541)], null),hubzero_pubs.comps.ui.icon.call(null,s,"#icon-user")], null),new cljs.core.Keyword(null,"fullname","fullname",1638772587).cljs$core$IFn$_invoke$arity$1(u)], null)], null);
});
hubzero_pubs.comps.authors.users = (function hubzero_pubs$comps$authors$users(s,key){
return cljs.core.merge.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"user-selector","user-selector",1099988258),new cljs.core.Keyword(null,"item-selector","item-selector",260452462)], null)], null)], null),cljs.core.doall.call(null,cljs.core.map.call(null,(function (p1__32555_SHARP_){
return hubzero_pubs.comps.authors.user.call(null,s,key,p1__32555_SHARP_);
}),cljs.core.vals.call(null,new cljs.core.Keyword(null,"users","users",-713552705).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,s))))));
});
hubzero_pubs.comps.authors.authors_list = (function hubzero_pubs$comps$authors$authors_list(s,key){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"page-panel","page-panel",-2109615440),new cljs.core.Keyword(null,"as-panel","as-panel",1533417882),key,(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"panels","panels",801034044),key], null)))?new cljs.core.Keyword(null,"open","open",-1763596448):null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"inner","inner",-1383171215)], null),hubzero_pubs.comps.panels.header.call(null,s,"Add authors from project team"),hubzero_pubs.comps.authors.users.call(null,s,key)], null)], null);
});

//# sourceMappingURL=authors.js.map?rel=1574330971156
