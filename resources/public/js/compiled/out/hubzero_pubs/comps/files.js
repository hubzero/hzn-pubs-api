// Compiled by ClojureScript 1.10.520 {}
goog.provide('hubzero_pubs.comps.files');
goog.require('cljs.core');
goog.require('hubzero_pubs.utils');
goog.require('hubzero_pubs.comps.ui');
goog.require('hubzero_pubs.comps.panels');
goog.require('hubzero_pubs.comps.folders');
hubzero_pubs.comps.files.progress = (function hubzero_pubs$comps$files$progress(s){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"progress-bar","progress-bar",-123877022)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"status","status",-1997798413)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"strong","strong",269529000),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"usage","usage",-1583752910),new cljs.core.Keyword(null,"size","size",1098693007)], null))),cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"usage","usage",-1583752910),new cljs.core.Keyword(null,"units","units",-533089095)], null)))," (",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"usage","usage",-1583752910),new cljs.core.Keyword(null,"percent","percent",2031453817)], null))),")"].join('')], null)," of your ",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"strong","strong",269529000),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"usage","usage",-1583752910),new cljs.core.Keyword(null,"max","max",61366548)], null))),cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"usage","usage",-1583752910),new cljs.core.Keyword(null,"units","units",-533089095)], null)))].join('')], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"progress","progress",244323547)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"bar","bar",-1386246584)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"usage","usage",-1583752910),new cljs.core.Keyword(null,"percent","percent",2031453817)], null))),"%"].join('')], null)], null)], null)], null);
});
hubzero_pubs.comps.files.backarrow = (function hubzero_pubs$comps$files$backarrow(s){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"icon","icon",1679606541),(((cljs.core.count.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"current-folder","current-folder",1012906650)], null))) > (1)))?new cljs.core.Keyword(null,"show","show",-576705889):null)], null),new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (p1__32109_SHARP_){
return hubzero_pubs.comps.folders.folder_pop.call(null,s,p1__32109_SHARP_);
})], null),hubzero_pubs.comps.ui.icon.call(null,s,"#icon-left"),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"name","name",1843675177)], null),"Return"], null)], null);
});
hubzero_pubs.comps.files.subheader = (function hubzero_pubs$comps$files$subheader(s){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"header","header",119441134),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"subheader","subheader",-1028810273)], null),hubzero_pubs.comps.files.backarrow.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"content","content",15833224)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h1","h1",-1896887462),cljs.core.first.call(null,cljs.core.last.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"current-folder","current-folder",1012906650)], null))))], null)], null)], null);
});
hubzero_pubs.comps.files.select_all = (function hubzero_pubs$comps$files$select_all(s,key,index){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"select-all","select-all",-1382041584),new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (p1__32110_SHARP_){
return hubzero_pubs.comps.folders.folder_click.call(null,s,key,index,p1__32110_SHARP_);
})], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"inner","inner",-1383171215)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"selected-indicator","selected-indicator",1085564017),(cljs.core.truth_(hubzero_pubs.comps.folders.folder_selected_QMARK_.call(null,s,key,index))?new cljs.core.Keyword(null,"selected","selected",574897764):null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"icon","icon",1679606541)], null),hubzero_pubs.comps.ui.icon.call(null,s,"#icon-checkmark"),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"name","name",1843675177)], null),"Selected"], null)], null)], null),"Select all"], null)], null);
});
hubzero_pubs.comps.files.file_click = (function hubzero_pubs$comps$files$file_click(s,path,name,key,e){
var k = hubzero_pubs.comps.folders.spf.call(null,path,name);
if(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key,k], null)))){
return cljs.core.swap_BANG_.call(null,s,cljs.core.update_in,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key], null),cljs.core.dissoc,k);
} else {
return cljs.core.swap_BANG_.call(null,s,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key,k], null),name);
}
});
hubzero_pubs.comps.files.file = (function hubzero_pubs$comps$files$file(s,path,name,key){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),name,new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (p1__32111_SHARP_){
return hubzero_pubs.comps.files.file_click.call(null,s,path,name,key,p1__32111_SHARP_);
})], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"inner","inner",-1383171215)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"selected-indicator","selected-indicator",1085564017),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),key,hubzero_pubs.comps.folders.spf.call(null,path,name)], null)))?new cljs.core.Keyword(null,"selected","selected",574897764):null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"icon","icon",1679606541)], null),hubzero_pubs.comps.ui.icon.call(null,s,"#icon-checkmark"),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"name","name",1843675177)], null),"Selected"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"icon","icon",1679606541)], null),hubzero_pubs.comps.ui.icon.call(null,s,"#icon-file-text2"),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"name","name",1843675177)], null),"Remove"], null)], null),name], null)], null);
});
hubzero_pubs.comps.files.file_selector = (function hubzero_pubs$comps$files$file_selector(s,files,key,index){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",-1349521403),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"file-selector","file-selector",236810593),new cljs.core.Keyword(null,"item-selector","item-selector",260452462)], null)], null),hubzero_pubs.comps.files.select_all.call(null,s,key,index),cljs.core.doall.call(null,cljs.core.map.call(null,(function (p__32112){
var vec__32113 = p__32112;
var path = cljs.core.nth.call(null,vec__32113,(0),null);
var name = cljs.core.nth.call(null,vec__32113,(1),null);
return hubzero_pubs.comps.files.file.call(null,s,path,name,key);
}),(function (){var $ = files;
var $__$1 = cljs.core.nth.call(null,$,index);
return cljs.core.map.call(null,((function ($,$__$1){
return (function (f){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.first.call(null,$__$1),f], null);
});})($,$__$1))
,cljs.core.last.call(null,$__$1));
})())),cljs.core.doall.call(null,cljs.core.map.call(null,(function (p__32116){
var vec__32117 = p__32116;
var path = cljs.core.nth.call(null,vec__32117,(0),null);
var name = cljs.core.nth.call(null,vec__32117,(1),null);
return hubzero_pubs.comps.folders.folder.call(null,s,path,name,key,(index + (1)));
}),(function (){var $ = files;
var $__$1 = cljs.core.nth.call(null,$,index);
return cljs.core.map.call(null,((function ($,$__$1){
return (function (f){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.first.call(null,$__$1),f], null);
});})($,$__$1))
,cljs.core.second.call(null,$__$1));
})()))], null);
});
hubzero_pubs.comps.files.container = (function hubzero_pubs$comps$files$container(s,files,key,index){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"overlay-panel-container","overlay-panel-container",679449944)], null),hubzero_pubs.comps.files.file_selector.call(null,s,files,key,index)], null);
});
hubzero_pubs.comps.files.subpanel = (function hubzero_pubs$comps$files$subpanel(s,files,name,key,index){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),name,new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"panel-subpanel","panel-subpanel",-929241890),new cljs.core.Keyword(null,"as-panel","as-panel",1533417882),new cljs.core.Keyword(null,"files","files",-472457450),new cljs.core.Keyword(null,"-open","-open",980431527)], null)], null),hubzero_pubs.comps.files.file_selector.call(null,s,files,key,index)], null);
});
hubzero_pubs.comps.files.files = (function hubzero_pubs$comps$files$files(s,key){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"page-panel","page-panel",-2109615440),new cljs.core.Keyword(null,"as-panel","as-panel",1533417882),key,new cljs.core.Keyword(null,"-open","-open",980431527),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,s),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"panels","panels",801034044),key], null)))?new cljs.core.Keyword(null,"open","open",-1763596448):null)], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"inner","inner",-1383171215)], null),hubzero_pubs.comps.panels.header.call(null,s,"Add files from project"),hubzero_pubs.comps.files.progress.call(null,s),hubzero_pubs.comps.files.subheader.call(null,s),hubzero_pubs.comps.files.container.call(null,s,new cljs.core.Keyword(null,"files","files",-472457450).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,s)),key,(0))], null)], null);
});

//# sourceMappingURL=files.js.map?rel=1574317822707
